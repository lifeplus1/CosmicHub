#!/bin/sh

printf "\nRunning env validation before push...\n"
npm run validate-env || exit 1

printf "\nRunning type-check...\n"
npm run type-check || exit 1

printf "\nRunning tests...\n"
# Force non-watch mode for Vitest across workspaces
CI=1 npm test || exit 1

printf "\nAll pre-push checks passed.\n"
